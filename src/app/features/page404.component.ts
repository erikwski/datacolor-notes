import { NgIf, UpperCasePipe } from '@angular/common';
import { Component } from '@angular/core';
import { Router, RouterLink } from '@angular/router';
import { TranslateModule } from '@ngx-translate/core';
import { IconComponent } from '../shared/components/icon.component';

/**
 * @Description
 * Component used if the user try to load a note that doesn't exist or if delete the current note
 */
@Component({
  selector: 'notes-page-404',
  standalone: true,
  imports: [NgIf, TranslateModule, IconComponent, UpperCasePipe, RouterLink],
  template: `
    <div id="404-container" class="flex flex-col items-center">
      @if(isEliminated){
      <div class="text-center">
        <svg
          class="opacity-30 mx-auto mb-6 stroke-primary"
          width="250"
          height="200"
          viewBox="0 0 250 200"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M207 65C210.866 65 214 68.134 214 72C214 75.866 210.866 79 207 79H167C170.866 79 174 82.134 174 86C174 89.866 170.866 93 167 93H189C192.866 93 196 96.134 196 100C196 103.866 192.866 107 189 107H178.826C173.952 107 170 110.134 170 114C170 116.577 172 118.911 176 121C179.866 121 183 124.134 183 128C183 131.866 179.866 135 176 135H93C89.134 135 86 131.866 86 128C86 124.134 89.134 121 93 121H54C50.134 121 47 117.866 47 114C47 110.134 50.134 107 54 107H94C97.866 107 101 103.866 101 100C101 96.134 97.866 93 94 93H69C65.134 93 62 89.866 62 86C62 82.134 65.134 79 69 79H109C105.134 79 102 75.866 102 72C102 68.134 105.134 65 109 65H207ZM207 93C210.866 93 214 96.134 214 100C214 103.866 210.866 107 207 107C203.134 107 200 103.866 200 100C200 96.134 203.134 93 207 93Z"
            class="fill-base-300"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M153.672 64.0002L162.974 131.843L163.809 138.649C164.079 140.842 162.519 142.838 160.327 143.107L101.766 150.297C99.5738 150.566 97.578 149.007 97.3088 146.814L88.2931 73.3869C88.1584 72.2906 88.9381 71.2927 90.0344 71.1581C90.0413 71.1573 90.0483 71.1565 90.0552 71.1557L94.9136 70.6107M98.8421 70.17L103.429 69.6555Z"
            class="fill-base-200"
          />
          <path
            d="M154.91 63.8304C154.816 63.1464 154.186 62.668 153.502 62.7618C152.818 62.8556 152.34 63.486 152.433 64.17L154.91 63.8304ZM162.974 131.843L164.214 131.691C164.214 131.685 164.213 131.679 164.212 131.673L162.974 131.843ZM163.809 138.649L165.05 138.497L163.809 138.649ZM160.327 143.107L160.479 144.348L160.327 143.107ZM101.766 150.297L101.919 151.538L101.766 150.297ZM97.3088 146.814L98.5495 146.662L97.3088 146.814ZM88.2931 73.3869L87.0524 73.5393L88.2931 73.3869ZM90.0552 71.1557L90.1945 72.3979L90.0552 71.1557ZM95.0529 71.8529C95.739 71.7759 96.2327 71.1574 96.1558 70.4713C96.0788 69.7853 95.4603 69.2915 94.7742 69.3685L95.0529 71.8529ZM98.7028 68.9278C98.0167 69.0048 97.5229 69.6233 97.5999 70.3094C97.6768 70.9954 98.2954 71.4892 98.9814 71.4122L98.7028 68.9278ZM103.568 70.8977C104.255 70.8207 104.748 70.2022 104.671 69.5161C104.594 68.8301 103.976 68.3363 103.29 68.4133L103.568 70.8977ZM152.433 64.17L161.735 132.013L164.212 131.673L154.91 63.8304L152.433 64.17ZM161.733 131.995L162.569 138.802L165.05 138.497L164.214 131.691L161.733 131.995ZM162.569 138.802C162.754 140.309 161.682 141.681 160.174 141.866L160.479 144.348C163.357 143.994 165.403 141.375 165.05 138.497L162.569 138.802ZM160.174 141.866L101.614 149.057L101.919 151.538L160.479 144.348L160.174 141.866ZM101.614 149.057C100.107 149.242 98.7346 148.17 98.5495 146.662L96.0681 146.967C96.4215 149.845 99.0409 151.891 101.919 151.538L101.614 149.057ZM98.5495 146.662L89.5337 73.2346L87.0524 73.5393L96.0681 146.967L98.5495 146.662ZM89.5337 73.2346C89.4833 72.8235 89.7756 72.4493 90.1867 72.3988L89.8821 69.9174C88.1005 70.1362 86.8336 71.7577 87.0524 73.5393L89.5337 73.2346ZM90.1867 72.3988C90.1893 72.3985 90.1919 72.3982 90.1945 72.3979L89.9159 69.9135C89.9046 69.9147 89.8933 69.9161 89.8821 69.9174L90.1867 72.3988ZM90.1945 72.3979L95.0529 71.8529L94.7742 69.3685L89.9159 69.9135L90.1945 72.3979ZM98.9814 71.4122L103.568 70.8977L103.29 68.4133L98.7028 68.9278L98.9814 71.4122Z"
            class="fill-primary"
          />
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M151.14 68.2691L159.56 129.753L160.317 135.921C160.561 137.908 159.167 139.714 157.203 139.956L104.761 146.395C102.798 146.636 101.008 145.22 100.764 143.233L92.6141 76.8567C92.4795 75.7603 93.2591 74.7625 94.3555 74.6278L100.843 73.8313"
            class="fill-base-300"
          />
          <path
            d="M110.672 51.25H156.229C156.958 51.25 157.657 51.5395 158.173 52.0549L171.616 65.4898C172.132 66.0056 172.422 66.7053 172.422 67.4349V130C172.422 131.519 171.191 132.75 169.672 132.75H110.672C109.153 132.75 107.922 131.519 107.922 130V54C107.922 52.4812 109.153 51.25 110.672 51.25Z"
            class="fill-base-300"
            stroke-width="2.5"
          />
          <path
            d="M156.672 52.4028V64C156.672 65.6569 158.015 67 159.672 67H167.605"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
          <path
            d="M118 118H144M118 67H144H118ZM118 79H161H118ZM118 92H161H118ZM118 105H161H118Z"
            stroke-width="2.5"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        <h3 class="text-3xl opacity-60">
          {{ '_404.eliminated-title' | translate }}
        </h3>
        <span class="opacity-40 block mb-4">{{
          '_404.eliminated-desc' | translate
        }}</span>
      </div>
      }@else {
      <svg
        width="250"
        height="200"
        viewBox="0 0 250 200"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        class="stroke-base-300 opacity-30"
      >
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M63 134H154C154.515 134 155.017 133.944 155.5 133.839C155.983 133.944 156.485 134 157 134H209C212.866 134 216 130.866 216 127C216 123.134 212.866 120 209 120H203C199.134 120 196 116.866 196 113C196 109.134 199.134 106 203 106H222C225.866 106 229 102.866 229 99C229 95.134 225.866 92 222 92H200C203.866 92 207 88.866 207 85C207 81.134 203.866 78 200 78H136C139.866 78 143 74.866 143 71C143 67.134 139.866 64 136 64H79C75.134 64 72 67.134 72 71C72 74.866 75.134 78 79 78H39C35.134 78 32 81.134 32 85C32 88.866 35.134 92 39 92H64C67.866 92 71 95.134 71 99C71 102.866 67.866 106 64 106H24C20.134 106 17 109.134 17 113C17 116.866 20.134 120 24 120H63C59.134 120 56 123.134 56 127C56 130.866 59.134 134 63 134ZM226 134C229.866 134 233 130.866 233 127C233 123.134 229.866 120 226 120C222.134 120 219 123.134 219 127C219 130.866 222.134 134 226 134Z"
          fill="#F3F7FF"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M92 140C79.8497 140 70 130.374 70 118.5C70 106.626 79.8497 97 92 97C92.5167 97 93.0292 97.0174 93.537 97.0517C93.1842 95.0878 93 93.0654 93 91C93 72.2223 108.222 57 127 57C141.991 57 154.716 66.702 159.239 80.1695C160.31 80.0575 161.398 80 162.5 80C179.345 80 193 93.4315 193 110C193 125.741 180.675 138.727 165 139.978V140H108.508H92ZM103.996 140H97.0314H103.996Z"
          fill="white"
        />
        <path
          d="M103.996 140H97.0314M92 140C79.8497 140 70 130.374 70 118.5C70 106.626 79.8497 97 92 97C92.5167 97 93.0292 97.0174 93.537 97.0517C93.1842 95.0878 93 93.0654 93 91C93 72.2223 108.222 57 127 57C141.991 57 154.716 66.702 159.239 80.1695C160.31 80.0575 161.398 80 162.5 80C179.345 80 193 93.4315 193 110C193 125.741 180.675 138.727 165 139.978V140H108.508H92Z"
          class="stroke-primary"
          stroke-width="2.5"
          stroke-linecap="round"
        />
        <path
          fill-rule="evenodd"
          clip-rule="evenodd"
          d="M116.612 64.3426C116.612 96.5657 145.633 123.118 183 126.703C178.317 132.461 171.086 136.368 162.847 136.981V137H95.7431C87.6013 137 74 133.57 74 118.548C74 103.527 84.5742 100.097 95.7431 100.097C96.218 100.097 96.6891 100.112 97.1559 100.141C96.8316 98.4556 96.7746 96.7184 96.6623 94.9474C95.9038 82.9842 101.123 67.907 116.63 63C116.618 63.4473 116.612 63.8944 116.612 64.3426ZM127.116 114.758C124.078 114.758 121.614 117.192 121.614 120.195C121.614 123.198 124.078 125.632 127.116 125.632C130.155 125.632 132.618 123.198 132.618 120.195C132.618 117.192 130.155 114.758 127.116 114.758Z"
          fill="#E8F0FE"
        />
        <path
          d="M127.5 126C130.538 126 133 123.538 133 120.5C133 117.462 130.538 115 127.5 115C124.462 115 122 117.462 122 120.5C122 123.538 124.462 126 127.5 126Z"
          class="stroke-primary"
          stroke-width="2.5"
        />
        <path
          d="M112 109L119 103.507L112 98.2776"
          class="stroke-primary"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M143 109L136 103.507L143 98.2776"
          class="stroke-primary"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M137 67C143.509 68.7226 148.648 73.8129 150.44 80.2932"
          class="stroke-gray-400"
          stroke-width="2.5"
          stroke-linecap="round"
        />
        <path
          d="M158 50C159.657 50 161 48.6569 161 47C161 45.3431 159.657 44 158 44C156.343 44 155 45.3431 155 47C155 48.6569 156.343 50 158 50Z"
          class="stroke-gray-400"
          stroke-width="2"
        />
        <path
          d="M189 66C190.657 66 192 64.6569 192 63C192 61.3431 190.657 60 189 60C187.343 60 186 61.3431 186 63C186 64.6569 187.343 66 189 66Z"
          class="fill-primary"
        />
        <path
          d="M165.757 57.7573L174.116 66.1156M174.243 57.7573L165.884 66.1156L174.243 57.7573Z"
          class="stroke-gray-400"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M71.4038 75.5962L77.4038 81.5962M77.4038 75.5962L71.4038 81.5962L77.4038 75.5962Z"
          class="stroke-gray-400"
          stroke-width="2.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M85 69C86.6569 69 88 67.6569 88 66C88 64.3431 86.6569 63 85 63C83.3431 63 82 64.3431 82 66C82 67.6569 83.3431 69 85 69Z"
          class="fill-primary"
        />
      </svg>
      <h3 class="text-3xl text-center opacity-60">
        {{ '_404.title' | translate }}
      </h3>
      <span class="text-center opacity-40 block mb-4">{{
        '_404.desc' | translate
      }}</span>
      }
      <button class="btn btn-primary mx-auto" routerLink="/note/0">
        <notes-icon icon="write" size="sm" class="mr-2" />
        {{ '_notes.add' | translate | uppercase }}
      </button>
    </div>
  `,
})
export class Page404Component {
  isEliminated = false;
  constructor(private router: Router) {
    const state = this.router.getCurrentNavigation()?.extras.state ?? {};
    this.isEliminated = state['isEliminated'] || false;
  }
}
